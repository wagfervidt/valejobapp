module.exports = ([array, keyName, valueName]) => {
  if (Array.isArray(array) && typeof keyName === 'string' && typeof valueName === 'string') {
    if (array.some(item => !(typeof item === 'object')) || !array.length) {
      return null;
    }
    const validKeyArr = array.filter(item => (Object.keys(item).includes(keyName)));
    const validArr = validKeyArr.filter(item => (Object.keys(item).includes(valueName)));
    if (validArr.length) {
      const newArray = validArr.map((item) => {
        const newItem = {};
        const key = item[keyName];
        const value = item[valueName];
        newItem[key] = value;
        return newItem;
      });
      return newArray.reduce((sum, current) => Object.assign(sum, current));
    }
    return {};
  }
  return null;
};
