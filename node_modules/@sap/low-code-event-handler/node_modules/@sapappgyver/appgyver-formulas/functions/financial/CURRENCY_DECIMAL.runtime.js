module.exports = ([price, unit]) => {
  if (price == null || unit == null) {
    return null;
  }
  if (typeof price !== 'number'
      || !Number.isFinite(price)
      || typeof unit !== 'number'
      || !Number.isFinite(unit)
  ) {
    return null;
  }

  const unitRounded = Math.trunc(unit);

  if (unitRounded < 1) {
    return null;
  }

  const priceInteger = Math.trunc(price);
  const converted = priceInteger
      + (price % 1) * (10 ** Math.ceil(Math.log(unitRounded) / Math.LN10))
      / unitRounded;
  const power = (10 ** (Math.ceil(Math.log(unitRounded) / Math.LN2) + 1));
  const result = Math.round(converted * power) / power;
  return Number.isFinite(result) ? result : null;
};
