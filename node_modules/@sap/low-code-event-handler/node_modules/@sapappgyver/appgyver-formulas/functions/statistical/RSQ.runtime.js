const pearson = require('./CORREL.runtime');

module.exports = ([array1, array2]) => {
  if (!(Array.isArray(array1) && Array.isArray(array2))) {
    return null;
  }
  if (array1.length !== array2.length) {
    return null;
  }
  const pearsonRes = pearson([array1, array2]);
  const result = (pearsonRes === null) ? null : pearsonRes ** 2;
  return Number.isFinite(result) ? result : null;
};
