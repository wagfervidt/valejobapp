const fact = require('../math/FACTORIAL.runtime');

module.exports = ([nParam, kParam]) => {
  if (
    typeof nParam === 'number'
      && Number.isFinite(nParam)
      && typeof kParam === 'number'
      && Number.isFinite(kParam)
  ) {
    const n = Math.floor(nParam);
    const k = Math.floor(kParam);
    if (n < 0 || k < 0) {
      return null;
    }
    if (n === 0 || k === 0) {
      return 1;
    }
    const nPlusKFact = fact([n + k - 1]);
    const kFact = fact([k]);
    const nMinus1Fact = fact([n - 1]);
    if (Number.isFinite(nPlusKFact)
        && Number.isFinite(kFact)
        && Number.isFinite(nMinus1Fact)) {
      const result = nPlusKFact / (kFact * nMinus1Fact);
      return (Number.isFinite(result)) ? result : null;
    }
  }
  return null;
};
