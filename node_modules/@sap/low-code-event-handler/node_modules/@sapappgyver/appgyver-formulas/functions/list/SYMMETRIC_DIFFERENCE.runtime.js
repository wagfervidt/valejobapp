const { isEqual } = require('@sapappgyver/appgyver-schemas/utils/equality');

module.exports = ([array1, array2]) => {
  if (Array.isArray(array1) && Array.isArray(array2)) {
    const concatArr = array1.concat(array2);
    const result = concatArr.reduce((acc, item) => {
      const foundIndexArr1 = array1.findIndex(uniqItem => isEqual(uniqItem, item));
      const foundIndexArr2 = array2.findIndex(uniqItem => isEqual(uniqItem, item));
      if (foundIndexArr1 === -1 || foundIndexArr2 === -1) {
        acc.push(item);
      }
      return acc;
    }, []);

    return result;
  }
  return null;
};
