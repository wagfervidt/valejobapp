const execute = require('./CURRENCY_DECIMAL.runtime');

module.exports = {
  name: 'CURRENCY_DECIMAL',
  category: 'Financial',
  title: 'Currency decimal',
  description: `Given a decimal fraction representation of a number and the fractional unit used, returns a regular decimal number.

For example, 213.03 might mean 213 and 3/8 or 213 and 3/32, depending on the source data.`,
  parameters: [{
    type: 'number',
    title: 'Fractional price',
    description: 'The price quotation given using fractional decimal conventions.',
  }, {
    type: 'number',
    title: 'Unit',
    description: 'The units of the fraction, e.g. 8 for 1/8ths or 32 for 1/32nds',
  }],
  analyze: () => ({ schema: { type: 'number' } }),
  execute,
  examples: [
    { expression: 'CURRENCY_DECIMAL(4.2, 4)', result: 4.5 },
    { expression: 'CURRENCY_DECIMAL(4.05, 16)', result: 4.3125 },
    { expression: 'CURRENCY_DECIMAL(4, 4)', result: 4 },
  ],
};
