const execute = require('./STRIP_HTML_TAGS.runtime');

module.exports = {
  name: 'STRIP_HTML_TAGS',
  category: 'Text',
  title: 'Remove HTML tags',
  description: 'Returns the given text wih all HTML tags stripped away.',
  parameters: [{
    type: 'string',
    title: 'HTML',
    description: 'HTML to operate',
  }, {
    type: 'boolean',
    title: 'Preserve Newlines',
    default: false,
    description: 'If preserveNewlines is true, replace <br> with \\n',
  }],
  analyze: () => ({ schema: { type: 'string' } }),
  execute,
  examples: [
    {
      expression: 'STRIP_HTML_TAGS(html)',
      context: {
        html: '<div class="test"><span >123<br/>456</span ></div>',
      },
      result: '123456',
    },
    {
      expression: 'STRIP_HTML_TAGS(html, true)',
      context: {
        html: '<div class="test"><span >123<br/>456</span ></div>',
      },
      result: '123\n456',
    },
  ],
};
