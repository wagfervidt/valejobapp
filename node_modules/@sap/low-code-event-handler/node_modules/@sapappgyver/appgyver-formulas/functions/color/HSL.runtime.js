const chroma = require('chroma-js');

module.exports = ([hue, saturation, lightness, alpha = 1]) => {
  if (typeof hue !== 'number' || Number.isNaN(hue)) {
    return null;
  }
  if (typeof saturation !== 'number' || Number.isNaN(saturation)) {
    return null;
  }
  if (typeof lightness !== 'number' || Number.isNaN(lightness)) {
    return null;
  }
  let validAlpha = (typeof alpha === 'number' && !Number.isNaN(alpha)) ? alpha : 1;
  if (validAlpha < 0) {
    validAlpha = 0;
  }
  if (validAlpha > 1) {
    validAlpha = 1;
  }
  try {
    return chroma.hsl(hue, saturation, lightness, validAlpha).css();
  } catch (error) {
    return null;
  }
};
