# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [5.1.1](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v5.1.1) (2023-06-05)

- Improved the compatibility of `Schema` type with the `Schema` type at `@sapappgyver/appgyver-descriptors/lib/types/dolan/v3`
- Fixed the typing of `getSchemaAnnotation`

## 5.1.0

This version does not exist and was skipped due to release issues.

## [5.0.2](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v5.0.2) (2023-04-17)

- Added searchable and readOnly fields in common schema

## [5.0.1](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v5.0.1) (2022-11-04)

### Fixed

- The package does not any more contain source `.ts` files, just `.js` and `.d.ts` files, which should reduce TypeScript compilation issues when using this library with different configurations.

## [5.0.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v5.0.0) (2022-11-01)

- **The library is now available as [`@sapappgyver/appgyver-schemas`](https://github.tools.sap/AppGyver/appgyver-schemas)**! The previous version can still be installed from [`@appgyver/schemas`](https://github.com/AppGyver/schemas).

## [4.4.1](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v4.4.1) (2022-10-06)

### Fixed

- Fix TypeScript compilation error on `@sapappgyver/appgyver-schemas/examples.ts`

## [4.4.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v4.4.0) (2022-05-25)

- Changed `getUnionSchema` to return more permissive schemas when combining an union of string formats where a wildcard `*` format is present

## [4.3.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v4.3.0) (2021-11-22)

- Added `SpecialSchema` and `ExpressionSchema` schema types

## [4.2.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v4.2.0) (2021-11-22)

- Added new utility function `getMinimalAssignableSchema`
- Removed `TypedSchema` from `Schema` type definition

## [4.1.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v4.1.0) (2021-10-07)

### Added

- Added new useful type definitions:
  ```javascript
  import {
    StringEnumSchema,
    NumberEnumSchema,
    SchemaType,
  } from "@sapappgyver/appgyver-schemas";
  ```

## [4.0.1](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v4.0.1) (2021-10-06)

### Fixed

- Fixed TypeScript type definitions to be compatible with `strict` mode

## [4.0.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v4.0.0) (2021-10-06)

### Added

- Added TypeScript type definitions for the relevant functions, interfaces and constants exported by this library

## [3.0.1](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v3.0.1) (2021-05-19)

### Fixed

- Fix error on schema compatibility checks when `schematicValue` is involved:
  ```
  Cannot read property 'tolerant' of undefined
  ```

## [3.0.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v3.0.0) (2021-05-18)

### Added

- Added **[new special type `schematicValue`](./docs/SCHEMA.md#schematicValue-type)** for values that describe pairs of a schema and a matching value
- Added support for [`maxProperties` validation annotation for the `object` type](./docs/SCHEMA.md#maximum-number-of-properties)
- Added support for [`minProperties` validation annotation for the `object` type](./docs/SCHEMA.md#minimum-number-of-properties)

### Changed

- The `schema` type no longer accepts "unknown schemas", i.e. ones without either `type`, `anyOf` or `allOf`
- The `pickObjectSchemaProperties` helper changes the order of the property keys according to the given array of keys

## [2.1.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v2.1.0) (2021-04-06)

### Added

- Added helper functions for creating versions of object schemas with modified properties:
  - `setOptionalObjectSchemaProperty` will add or overwrite an optional property with the given schema
  - `setRequiredObjectSchemaProperty` will add or overwrite a required property with the given schema
  - `pickObjectSchemaProperties` will select only the given property names from the schema, omitting all other properties
  - `omitObjectSchemaProperties` will exclude the given property names from the schema, preserving all other properties
  - `setRequiredObjectSchemaProperties` will alter which property names are required, leaving the rest optional

## [2.0.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v2.0.0) (2021-03-29)

### Added

- Added **[new special type `schema`](./docs/SCHEMA.md#schema-type)** for values that describe valid schema structures
- Added `resolveMetaSchema` helper for resolving any schema that the value of the given schema represents

### Changed

- The `getSchemaAssignmentErrors` function takes an options object instead of multiple parameters. For backward-compatibility the `true` parameter will be assumed to mean `{ tolerant: true }`

### Removed

- Removed unused `getNthWord` string utility. This is a breaking change if the utility was used from this library.

## [1.0.0](https://github.tools.sap/AppGyver/appgyver-schemas/tree/v1.0.0) (2021-03-18)

### Added

- Extracted this library from [`@appgyver/formulas/schemas` module](https://github.com/AppGyver/formulas) to its own repository and package.
