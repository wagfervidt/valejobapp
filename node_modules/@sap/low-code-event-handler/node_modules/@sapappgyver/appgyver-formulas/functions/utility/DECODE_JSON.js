const execute = require('./DECODE_JSON.runtime');

module.exports = {
  name: 'DECODE_JSON',
  category: 'Utility',
  title: 'Decode a JSON-encoded string',
  description: 'Parses the given text with JSON-formatted content to the value it represents (number, true/false, list or object).',
  parameters: [{
    title: 'JSON text',
    description: 'JSON-encoded text to parse',
    type: 'string',
  }],
  analyze: () => ({ schema: { type: 'json' } }),
  execute,
  examples: [
    { expression: 'DECODE_JSON(\'"foobar"\')', result: 'foobar' },
    { expression: "DECODE_JSON('[1, 2, null, \"123\", true]')", result: [1, 2, null, '123', true] },
    {
      expression: "DECODE_JSON('{\"a\": 1, \"b\": null, \"c\": \"123\", \"d\": true}')",
      result: {
        a: 1, b: null, c: '123', d: true,
      },
    },
  ],
};
