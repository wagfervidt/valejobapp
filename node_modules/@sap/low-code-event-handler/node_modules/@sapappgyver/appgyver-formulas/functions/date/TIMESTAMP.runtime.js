const { parseDateTime } = require('../../datetime');

module.exports = ([timestamp], { timestamp: currentTimestamp }) => {
  if (timestamp == null) {
    return currentTimestamp;
  }
  if (typeof timestamp === 'string') {
    if (Number.isNaN(Number(timestamp))) {
      const date = parseDateTime(timestamp);
      return date.isValid() ? date.valueOf() : null;
    }
  }
  return null;
};
