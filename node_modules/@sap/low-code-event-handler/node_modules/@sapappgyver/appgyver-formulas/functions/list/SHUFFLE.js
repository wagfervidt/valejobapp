const execute = require('./SHUFFLE.runtime');

module.exports = {
  name: 'SHUFFLE',
  category: 'List',
  title: 'Shuffle a list',
  description: 'Returns a list containing all the values from the list parameter, but shuffled into a random order.',
  deterministic: false, // Result is in random order
  parameters: [{
    type: 'array',
    title: 'List',
    description: 'List to shuffle',
  }],
  analyze: ([arrayParam]) => {
    const arraySchema = (arrayParam && arrayParam.schema) || { type: 'array' };
    return {
      schema: arraySchema,
    };
  },
  execute,
  examples: [
    {
      expression: 'SHUFFLE([])',
      result: [],
    },
    {
      expression: 'SHUFFLE(array1)',
      context: {
        array1: ['a', 'b', 'c', 'd', 'e'],
      },
      result: ['b', 'c', 'a', 'e', 'd'],
    },
    {
      expression: 'SHUFFLE(array2)',
      context: {
        array2: ['a', 'b', 'c', 1, 2, 3],
      },
      result: ['1', 'b', '2', 'a', 'c', '3'],
    },
  ],
};
