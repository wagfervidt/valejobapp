class TimeoutError extends Error {
  constructor() {
    super('Expression evaluation timed out');
    this.name = 'TimeoutError';
  }
}

function assertNotTimedOut(startTime, timeout) {
  if (timeout != null && +new Date() - startTime >= timeout) {
    throw new TimeoutError('Expression execution timed out');
  }
}

module.exports.assertNotTimedOut = assertNotTimedOut;
module.exports.TimeoutError = TimeoutError;
