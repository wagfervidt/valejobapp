const SPLICE = require('./SPLICE.runtime');

module.exports = ([array, index, newItem]) => {
  if (!Array.isArray(array) || typeof newItem === 'undefined' || !Number.isFinite(index)) {
    return null;
  }
  const intIndex = parseInt(index, 10);

  return SPLICE([[...array], intIndex, 0, [newItem]]);
};
