const { isEqual } = require('@sapappgyver/appgyver-schemas/utils/equality');

module.exports = ([array1, array2]) => {
  if (Array.isArray(array1) && Array.isArray(array2)) {
    const unionArr = array1.concat(array2);
    const result = unionArr.reduce((acc, item) => {
      const foundDuplicateIndex = acc.findIndex(uniqItem => isEqual(uniqItem, item));
      if (foundDuplicateIndex === -1) {
        acc.push(item);
      }
      return acc;
    }, []);

    return result;
  }
  return null;
};
