const chroma = require('chroma-js');

const defaultRatio = 0.5;

module.exports = ([color1, color2, ratio = 0.5]) => {
  if (typeof color1 !== 'string' || typeof color2 !== 'string') {
    return null;
  }
  try {
    let validRatio = (typeof ratio === 'number' && Number.isFinite(ratio)) ? ratio : defaultRatio;
    validRatio = (validRatio < 0) ? 0 : validRatio;
    validRatio = (validRatio > 1) ? 1 : validRatio;
    return chroma.mix(color1, color2, validRatio).css();
  } catch (error) {
    return null;
  }
};
