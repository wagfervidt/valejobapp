module.exports = ([string]) => {
  let text = string;
  if (typeof text === 'string') {
    let firstLtr = 0;
    for (let i = 0; i < text.length; i += 1) {
      if (i === 0 && /[a-zA-Zа-яА-Я-zÀ-ȕ]/.test(text.charAt(i))) firstLtr = 2;
      if (firstLtr === 0 && /[a-zA-Zа-яА-Я-zÀ-ȕ]/.test(text.charAt(i))) firstLtr = 2;
      if (firstLtr === 1 && /[^a-zA-Zа-яА-Я-zÀ-ȕ]/.test(text.charAt(i))) {
        if (text.charAt(i) === "'") {
          if (i + 2 === text.length && /[a-zA-Zа-яА-Я-zÀ-ȕ]/.test(text.charAt(i + 1))) firstLtr = 3;
          else if (i + 2 < text.length && /[^a-zA-Zа-яА-Я-zÀ-ȕ]/.test(text.charAt(i + 2))) firstLtr = 3;
        }
        if (firstLtr === 3) firstLtr = 1;
        else firstLtr = 0;
      }
      if (firstLtr === 2) {
        firstLtr = 1;
        text = text.substr(0, i) + text.charAt(i).toUpperCase() + text.substr(i + 1);
      } else {
        text = text.substr(0, i) + text.charAt(i).toLowerCase() + text.substr(i + 1);
      }
    }
    return text;
  }
  return null;
};
