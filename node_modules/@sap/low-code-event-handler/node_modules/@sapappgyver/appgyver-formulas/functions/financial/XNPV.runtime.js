const { XNPV } = require('../../financial');

module.exports = ([discount, amounts, dates]) => {
  if (discount == null || !Array.isArray(amounts) || !Array.isArray(dates)) {
    return null;
  }

  if (typeof discount !== 'number'
      || !Number.isFinite(discount)
  ) {
    return null;
  }

  const result = XNPV(discount, amounts, dates);
  return Number.isFinite(result) ? result : null;
};
