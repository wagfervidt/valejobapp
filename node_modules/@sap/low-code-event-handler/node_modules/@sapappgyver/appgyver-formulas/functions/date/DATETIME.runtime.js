const { formatMoment, parseDateTime } = require('../../datetime');

module.exports = ([timestamp, dateFormat]) => {
  if (timestamp == null) {
    return null;
  }
  if (dateFormat && !(typeof dateFormat === 'string' || Array.isArray(dateFormat))) {
    // Invalid date format
    return null;
  }
  const parsedDateTime = parseDateTime(timestamp, dateFormat);
  if (parsedDateTime.isValid()) {
    return formatMoment(parsedDateTime);
  }
  return null;
};
