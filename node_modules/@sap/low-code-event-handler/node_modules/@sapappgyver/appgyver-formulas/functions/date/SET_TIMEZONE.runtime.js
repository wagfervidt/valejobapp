const moment = require('moment-timezone');
const { parseDateTime, formatMoment } = require('../../datetime');

const timezones = moment.tz.names();

module.exports = ([date, timezone]) => {
  if (date == null) {
    return null;
  }
  if (typeof date !== 'string') {
    return null;
  }
  if (!timezones.includes(timezone)) {
    return date;
  }
  return formatMoment(parseDateTime(date).tz(timezone));
};
