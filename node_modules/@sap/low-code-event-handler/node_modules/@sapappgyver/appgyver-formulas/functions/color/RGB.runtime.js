const chroma = require('chroma-js');

module.exports = ([red, green, blue, alpha = 1]) => {
  if (typeof red !== 'number' || Number.isNaN(red)) {
    return null;
  }
  if (typeof green !== 'number' || Number.isNaN(green)) {
    return null;
  }
  if (typeof blue !== 'number' || Number.isNaN(blue)) {
    return null;
  }
  let validAlpha = (typeof alpha === 'number' && !Number.isNaN(alpha)) ? alpha : 1;
  if (validAlpha < 0) {
    validAlpha = 0;
  }
  if (validAlpha > 1) {
    validAlpha = 1;
  }
  try {
    return chroma(red, green, blue, validAlpha).css();
  } catch (error) {
    return null;
  }
};
