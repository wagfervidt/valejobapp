module.exports = ([array, groupKeyFunc, groupMapFunc]) => {
  if (!Array.isArray(array) || typeof groupKeyFunc !== 'function' || typeof groupMapFunc !== 'function') {
    return null;
  }
  const groupMapping = new Map();
  array.forEach((item, index) => {
    const key = groupKeyFunc(item, index);
    const items = groupMapping.get(key) || [];
    items.push(item);
    groupMapping.set(key, items);
  });
  const results = [];
  groupMapping.forEach((items, key) => {
    const group = groupMapFunc(key, items);
    results.push(group);
  });
  return results;
};
