const { invertSort } = require('../../utils/array');

module.exports = (inv) => {
  const { params: [array, func, direction = 'asc'], result } = inv;
  if (typeof func !== 'function') {
    throw new Error('Cannot invert without sorting criteria');
  }
  // TODO: Should be case-insensitive sort reverse...? See also ORDER.runtime.js
  return inv.invertTo(invertSort(array, result, direction, func, true));
};
