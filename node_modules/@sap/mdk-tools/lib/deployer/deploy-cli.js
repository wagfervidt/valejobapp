#!/usr/bin/env node
const DeployCF = require('./deploy-cf').DeployCF;
const DeployMS = require('./deploy-ms').DeployMS;
const deployArgs = require('./deploy-args');
const logger = require('../logger');
const timestamp = require('console-timestamp');
const { DEPLOY_TARGET_CF, DEPLOY_TARGET_MS} = require('../utils');

function deploy() {
  let target = deployArgs.target();
  let deployer;
  if (target == DEPLOY_TARGET_CF) {
    deployer = new DeployCF(deployArgs);
  } else if (target == DEPLOY_TARGET_MS) {
    deployer = new DeployMS(deployArgs);
  }
  console.log("\n" + '[hh:mm:ss]'.timestamp + logger.getPrompt(" -- Starting --"));
  return deployer.deploy();
};
module.exports = { deploy };


