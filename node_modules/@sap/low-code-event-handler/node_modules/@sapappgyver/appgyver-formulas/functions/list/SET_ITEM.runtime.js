module.exports = ([array, match, setter]) => {
  if (!Array.isArray(array)) {
    return null;
  }
  if (typeof match !== 'function' || typeof setter !== 'function') {
    return array;
  }
  const replaceIndex = array.findIndex((item, index) => match(item, index));
  if (replaceIndex < 0) {
    return array;
  }
  const newArray = array.slice();
  const newItem = setter(array[replaceIndex], replaceIndex);
  newArray[replaceIndex] = newItem;
  return newArray;
};
