const chroma = require('chroma-js');

module.exports = ([color, alpha]) => {
  if (typeof color !== 'string') {
    return null;
  }
  try {
    if (typeof alpha === 'number' && Number.isFinite(alpha) && alpha > 0) {
      const chromaColor = chroma(color);
      const newAlpha = chromaColor.alpha() + alpha;
      return chromaColor.alpha(newAlpha).css();
    }
    return chroma(color).css();
  } catch (error) {
    return null;
  }
};
