const execute = require('./TIMESTAMP.runtime');

module.exports = {
  name: 'TIMESTAMP',
  category: 'Date',
  title: 'Returns the number of milliseconds from the Unix Epoch to the given datetime',
  description: 'Converts the given datetime into the number of milliseconds since the Unix Epoch (1st January, 1970 UTC).',
  deterministic: false,
  parameters: [{
    type: 'string',
    format: 'date-time',
    title: 'Date',
    description: 'Date to convert',
    default: null,
  }],
  analyze: () => ({ schema: { type: 'number', examples: [1568190050182] } }),
  execute,
  examples: [
    { expression: 'TIMESTAMP()', result: 1568190050182 },
    { expression: 'TIMESTAMP("2019-08-09T18:31:12Z")', result: 1565375460000 },
    { expression: 'TIMESTAMP("2019-08-09T18:31:42.120-03:30")', result: 1565388102000 },
  ],
};
