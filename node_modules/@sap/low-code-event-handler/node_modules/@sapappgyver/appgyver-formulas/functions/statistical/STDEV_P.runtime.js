const variance = require('./VARIANCE_P.runtime');

const stdev = (array) => {
  const varianceResult = variance([array]);
  return Math.sqrt(varianceResult);
};

module.exports = ([array]) => {
  if (!Array.isArray(array)) {
    return null;
  }
  const validArray = array.filter(item => (typeof item === 'number' && Number.isFinite(item)));
  if (validArray.length) {
    const result = stdev(validArray);
    return Number.isFinite(result) ? result : null;
  }
  return null;
};
