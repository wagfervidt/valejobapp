/* eslint-disable import/prefer-default-export */
function printStructure(node, indentation = 0) {
  const parts = [];
  for (let i = 0; i < indentation; i += 1) {
    parts.push(' ');
  }
  parts.push(node.type, ': ', JSON.stringify(node.formula));
  if (node.expects) {
    parts.push(' expecting: ', JSON.stringify(node.expects));
  }
  if (node.children) {
    node.children.forEach((child) => {
      parts.push('\n', printStructure(child, indentation + 4));
    });
  }
  return parts.join('');
}

module.exports.printStructure = printStructure;
