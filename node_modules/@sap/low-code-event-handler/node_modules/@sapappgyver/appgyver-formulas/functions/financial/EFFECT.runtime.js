module.exports = ([rate, periods]) => {
  if (rate == null || periods == null) {
    return null;
  }
  if (typeof rate !== 'number'
      || !Number.isFinite(rate)
      || typeof periods !== 'number'
      || !Number.isFinite(periods)
  ) {
    return null;
  }

  const periodsRounded = Math.trunc(periods);

  if (periodsRounded < 1 || rate <= 0) {
    return null;
  }
  const result = ((1 + rate / periodsRounded) ** periodsRounded) - 1;
  return Number.isFinite(result) ? result : null;
};
