module.exports = (inv) => {
  const { params: [, separator], result: text } = inv;
  if (typeof text !== 'string') {
    throw new Error('JOIN cannot invert with a non-text value');
  }
  if (typeof separator !== 'string') {
    throw new Error('JOIN cannot invert with a non-text separator');
  }
  if (!separator) {
    throw new Error('JOIN cannot invert with a blank separator');
  }
  return inv.invertTo(text ? text.split(separator) : []);
};
