module.exports = (inv) => {
  const { params: [, pattern, maxItems], result: components } = inv;
  if (!Array.isArray(components)) {
    throw new Error('Cannot invert split with a non-list value');
  }
  if (typeof pattern !== 'string') {
    throw new Error('Cannot invert split with a non-string pattern');
  }
  if (maxItems != null && components.length > maxItems) {
    throw new Error(`Cannot invert split with a list larger than ${maxItems}`);
  }
  // Simple join by pattern
  return inv.invertTo(components.join(pattern));
};
